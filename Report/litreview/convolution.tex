\subsection{Convolution}
\label{subsection:conv}
Convolution is also a linear operation that is shift invariant. It is very similar to correlation except that where correlation measure similarity between signals convolution measures the effect of one signal on another. It is described mathematically by the expression,

\[ g(i,j) = \sum_{u=-k}^{k}\sum_{v = -l}^{l}f(u,v)h(i-u,j-v)\]

Notice that the filter $h(i,j)$ is rotated  180 degrees. This causes the output's orientation to match the original image. Convolution may be notated as follows,

\[g = f \ast h\]

Convolution is essentially the same as correlation except that it doesn't flip the output relative to the original image as can be seen in Figure \ref{fig:convolution} and it is the operation that is performed when a linear filter is applied to a digital image.

% Convolution example  %
\begin{figure}[H] 
  \centering
  \begin{tabular}{ccccc}
      \begin{tabular}{|c|c|c|c|c|}
      \hline
      0 & 0 & 0 & 0 & 0 \\[1pt]
      \hline
      0 & 0 & 0 & 0 & 0 \\[1pt]
      \hline
      0 & 0 & 1 & 0 & 0 \\[1pt]
      \hline
      0 & 0 & 0 & 0 & 0 \\[1pt]
      \hline
      0 & 0 & 0 & 0 & 0 \\[1pt]
      \hline
      \end{tabular}%
    & $\ast$ &
    \begin{tabular}{|c|c|c|}
      \hline
      a & b & c \\
      \hline
      d & e & f \\
      \hline
      g & h & i \\
      \hline 
    \end{tabular}
    & $=$ &
    \begin{tabular}{|c|c|c|c|c|}
      \hline
      0 & 0 & 0 & 0 & 0 \\[1pt]
      \hline
      0 &  \textbf{a} & \textbf{b} & \textbf{c} & 0 \\[1pt]
      \hline
      0 & \textbf{d} & \textbf{e} & \textbf{f} & 0 \\[1pt]
      \hline
      0 & \textbf{g} & \textbf{h} & \textbf{i} & 0 \\[1pt]
      \hline
      0 & 0 & 0 & 0 & 0 \\[1pt]
      \hline
    \end{tabular} \\
    $F(x,y)$ & & $H(u,v)$& & $G(x,y)$ \\
  \end{tabular}
  \caption{Convolution of a filter and an image.}
  \label{fig:convolution}
\end{figure}
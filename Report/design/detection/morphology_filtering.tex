\subsection{Morhpology and Filtering}

After isolating foreground objects it's necessary to remove noise and consolidate larger entities so that the only foreground pixels encountered by proceeding processes comprise vehicles. Because the GMM clusters pixels based on their value changes in lighting which might be caused by a cloud moving or a cars shadow among other others, can change the intensity of a background pixel and make it look like it's a foreground pixel. Furthermore, darker pixels, in car windows in particular, can make them appear like the road and hence background pixels, resulting in fractured foreground objects where only a single entitity should exist as in Figure \ref{fig:example_subtraction}.

\subsubsection{Filtering}

The noise generated by spurious foreground pixels looks a lot like salt and pepper noise and so to deal with this a median filter is applied to remove it (see Section \ref{subsection:median_filter}). The effect of this can be observed in Figure \ref{fig:foreground_mask_filtered}. It's important to remove this noise because it's evidently not a vehicle and will complicate proceeding image processing. 


\subsubsection{Morphology}

The foreground objects presented at this point are mostly correct and whole however some are fractured due to their windows reflecting the same color as the road. To consolidate these fractured entities an opening, closing and dilation (section \ref{section:morphology}) are performed, as can be seen in Figure \ref{fig:foreground_mask_morphed}. 

In determining the calibration of each 
\chapter{Introduction}
\parskip 0.2in
Economies of the world have been industrializing for over two centuries \cite{industrialization} and the consequent advent of machines and factories has seen a great migration of humanity from farmlands to cities. Such a shift in population density has posed a plethora of infrastructural challenges and led to many iconic solutions to high density living, like the skyscraper, subway train and traffic light. One unfortunate metropolitan trait, however, continues unabated and is in fact growing in size \cite{trafficworse} - it is traffic congestion.

Road transport contributes 16.5\% of global CO2 emissions \cite{emissions} and costs the US \$305 billion of productivity per year alone \cite{ecotoll}\cite{cost} thus even a small improvement in traffic efficiency will yield great benefit to society and the future of the planet. Unfortunately its persistence is only an indicator of its difficulty to solve.

There is no single solution to the problem of traffic congestion, whether it be the building of tunnels, the conversion of traffic lights to roundabouts or the widening of roads though a number of studies \cite{mixedSolution}\cite{smartsolution}\cite{smartsolution2}\cite{smartsolution3} have found that the integration of several lightweight and inexpensive techniques is a far more efficient approach than the aforementioned heavy-handed methods. A ‘Smart City’ is such an approach, and part of its design is to deploy many devices in an urban area that collect data \cite{iot} which is then transmitted and processed to make useful conclusions about a system. This technology could be applied to collect traffic data more completely and inexpensively than is currently the case. Data of interest includes traffic volume and vehicle speed.
 
Current widely employed methods of traffic data collection \cite{methodsofcollection} have inherit weaknesses that justify a movement to new techniques that exploit advantages provided by the latest technology. For example, manual counting requires that a person be visually counting traffic and is very expensive, hence, it is used only  for short surveys necessitating data extrapolation at a cost to accuracy. Automatic methods of data collection such as inductive loops and piezo-electric sensors are able to measure speed and mass of vehicles due to the change in electric field that they generate as they pass a sensor however these systems are embedded in roadways and thus have high installation and maintenance costs. Less invasive automatic methods of data collection include pneumatic road tubes that sense change in air pressure as a tire passes over them. These systems are often temporary and accuracy is subject to temperature and traffic conditions. Infra-red sensors are inexpensive but cannot provide coverage across multi-lane roads and magnetic sensors embdedded in roadways often cannot differentiate between closely placed traffic. 

A single \emph{modular} lightweight system capable of performing all the functions of the aforementioned devices would be advantaged by significantly lower maintenance fees, dynamic installation capabilities and efficiency borne of the simplicity of relying on a single system set. Further, if many system modules were employed at key locations and data was transmitted in real-time to a central database for processing a complete picture of the state of the traffic system at anytime could be developed. A module running a computer vision algorithm with a small camera module would be able to complete these functions and facilitate such data analysis.

Computer vision is a versatile method by which image classification and object tracking may be achieved. An algorithm can be tailored to produce high accuracy real-time results requiring only images as input. Computer vision attempts to mimic human vision's ability to rapidly identify objects like separating a vehicle from its surroundings and tracking its movement. An increasingly effective method of image classification utilizes machine learning and trains a neural network to recognise objects in an image, however, this method is hindered by the large amounts of computational power required to train the network and the many thousands of data samples needed to train the network on. In a specific use-case like traffic monitoring a specialized algorithm that does not depend on a neural network but image processing techniques alone can yield high quality results. The implementation of a robust computer vision algorithm for traffic monitoring is not trivial however, and many techniques have to be choreographed for the algorithm to perform well.

It is the objective of this report to explain the design and operation of a lightweight and discrete traffic data collection module whose capabilities to estimate traffic speed and volume depend on an underlying computer vision algorithm. Further the module will transmit real-time results to a central database. It's basic structure is comprised of a microcontroller controlled camera mounted above a road that processes images to produce and transmit data to a central database. The overall system can be scaled to include many microcontroller nodes transmitting information. The collected data can queried and downloaded from a web-based GUI connected to the database.

Chapter 2 explores the relevant theoretical background underpinning the computer vision and image processing techniques implemented by the algorithm. This begins with the fundamental qualities of a digital image and ends with an explanation of the probabilistic model that is used to determine which image pixels belong to foreground objects and which do not. 

Chapter 3 details the system's overall design and how its subsystems interface with each other to produce a functional data collection product. The design's subsystems are the Computer Vision Algorithm, Networking, Hardware, Data Storage and Organization and The User Interface. The Computer Vision section in particular explains how the theoretical principles discussed in Chapter 2 are employed.

Chapter 4 outlines the capabilities of the system and the results it is able to produce and gives an analysis that identifies and explains the strengths and weaknesses of the system.

Chapter 5 summarizes how well the system satisfied the requirements it was designed to meet and also suggests augmentations that could be made to the system to improve its performance and applicability.



